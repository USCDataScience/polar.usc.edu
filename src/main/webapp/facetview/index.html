<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>FacetView - USC Data Science - Polar Database</title>

    <!-- callouts -->
    <link rel="stylesheet" href="callouts.css">

    <!--<script type="text/javascript" src="vendor/jquery/1.7.1/jquery-1.7.1.min.js"></script>-->
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.9.1.min.js"></script>

    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="vendor/bootstrap/css/bootstrap.light.min.css">
    <script type="text/javascript" src="vendor/bootstrap/js/bootstrap.min.js"></script>

    <script type="text/javascript" src="vendor/linkify/1.0/jquery.linkify-1.0-min.js"></script>

    <link rel="stylesheet" href="vendor/jquery-ui-1.8.18.custom/jquery-ui-1.8.18.custom.css">
    <script type="text/javascript" src="vendor/jquery-ui-1.8.18.custom/jquery-ui-1.8.18.custom.min.js"></script>

    <script type="text/javascript" src="vendor/jquery/1.7.1/jquery.js"></script>

    <script type="text/javascript" src="dist.jquery.facetview.js"></script>

    <link rel="stylesheet" href="css/facetview.css">

    <link rel="stylesheet" href="css/style.css">

    <script>
    $(function(){
      $("#header").load("../static/html/header.html");
    });
    </script>

    <script>
    $(function(){
      $("#secondary-header").load("../static/html/header-secondary.html");
    });
    </script>

    <script type="text/javascript">
        jQuery(document).ready(function ($) {
            $('.facet-view-simple').facetview({
                search_url: "http://polar.usc.edu/solr/geo/query?",
                search_index: "solr",
                linkify: false,
                default_operator: "AND",
                display_images: false,
                searchwrap_start: "<div id='facetview_results'>",
                searchwrap_end: "</div>",
                resultwrap_start: "<div class='bs-callout bs-callout-primary'>",
                resultwrap_end: "</div>",
                highlight_fields: ["text"],
                highlight_pre: "<mark><strong>",
                highlight_post: "</mark></strong>",
                initialsearch: false,
                search_sortby: [
                {'display':'Date added','field':'tstamp'},
                {'display':'Title','field':'title'},
                {'display':'Host','field':'host'},
                {'display':'ID','field':'edition.id'},
                {'display':'Segment','field':'segment'}
                ],
                result_display: [
                    [
                        {
                            pre: "<h4>",
                            field: "title",
                            alternative_field: "id",
                            post: "</h4>"
                        },
                        {
                            pre: "<span class='text-muted'><a>",
                            field: "url",
                            alternative_field: "id",
                            post: "</a></span>"
                        }
                    ]
                ],
                facets: [
                    {
                        field: "location_name",
                        order: "count",
                        display: "Location Name",
                        size: 10,
                        mincount: 1
                    },
                    {
                        field: "title",
                        display: "Topic",
                        order: "count",
                        size: 10,
                        mincount: 1
                    },
                    {
                        field: "location_coordinates",
                        display: "Location Coordinates",
                        order: "count",
                        size: 10,
                        mincount: 1
                    },
                    {
                        field: "id",
                        display: "ID",
                        order: "count",
                        size: 10,
                        mincount: 1
                    },
                    {
                        field: "url",
                        display: "URL",
                        order: "count",
                        size: 10,
                        mincount: 1
                    }
                    /*,
                    {
                        'field': 'stream_size',
                        'display': 'File Size',
                        "type": "range",
                        "range": [{
                            "to": 10240,
                            "display": "< 10KB"
                        }, {
                            "from": 10241,
                            "to": 1048576,
                            "display": "10KB - 1MB"
                        }, {
                            "from": 1048577,
                            "to": 5242880,
                            "display": "1MB - 5MB"
                        }, {
                            "from": 5242881,
                            "display": "> 5MB"
                        }],
                        "open": true
                    },*/
                ],
                paging: {
                    from: 0,
                    size: 30
                }
            });
        });
    </script>
</head>

<body>
    <div class="navbar navbar-static-top">
        <div class="navbar-inner">
            <div class="container-fluid usc-header">

				        <a class="navbar-brand" href="/" style="color:white">Home</a>
                    <ul class="nav">
                        <li><a class="page-scroll" href="http://polar.usc.edu/#about" style="color:#ffffff">About</a></li>
                        <li><a class="page-scroll" href="http://polar.usc.edu/#features" style="color:#ffffff">Insights</a></li>
                        <li><a class="page-scroll" href="http://polar.usc.edu/#search" style="color:#ffffff">Search</a></li>
                        <li><a class="page-scroll" href="http://polar.usc.edu/#learn-more"style="color:#ffffff">Partners</a></li>
                    </ul>

        				<a href="http://usc.edu" class="pull-right">
        					<img src="usc-primary-logotype.svg" width="176px" height="38px">
        				</a>

            </div>
        </div>
    </div>

    <div id="nav-secondary">
      <nav class="navbar">
        <ul class="nav navbar-nav nav-ul-secondary">
          <li><a class="navlink" href="http://polar.usc.edu/Polar/banana/#/dashboard">Banana</a></li>
          <li><a class="navlink" href="http://polar.usc.edu/Polar/facetview/">FacetView</a></li>
        </ul>
      </nav>
    </div>

    <div class="container" style="width:80%">
        <div class="content">
            <div class="page-header">
                <h3>FacetView Search</h3>
            </div>
            <div class="facet-view-simple"></div>
        </div>
    </div>
</body>
</html>
